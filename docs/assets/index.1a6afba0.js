import{r as e,W as t,C as a,R as n,a as s}from"./vendor.72d125cc.js";var o=[{inputs:[],stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"string",name:"message",type:"string"}],name:"NewWave",type:"event"},{inputs:[],name:"getAllWaves",outputs:[{components:[{internalType:"address",name:"waver",type:"address"},{internalType:"string",name:"message",type:"string"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct WavePortal.Wave[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalWaves",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastWavedAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_message",type:"string"}],name:"wave",outputs:[],stateMutability:"nonpayable",type:"function"}];function i(){const[s,i]=e.exports.useState("");e.exports.useState("0");const r="0xBACD7E3b571bBBF97EbCc95756349Ab7f348f854",l=o,[m,c]=e.exports.useState([]),[u,d]=e.exports.useState("");e.exports.useEffect((()=>{let e;const n=(e,t,a)=>{console.log("NewWave",e,t,a),c((n=>[...n,{address:e,timestamp:new Date(1e3*t),message:a}]))};if(window.ethereum){const s=new t(window.ethereum).getSigner();e=new a(r,l,s),e.on("NewWave",n)}return()=>{e&&e.off("NewWave",n)}}),[]);return n.createElement("div",{className:"mainContainer"},n.createElement("div",{className:"dataContainer"},n.createElement("h2",{className:"header"},"ðŸ‘‹ Ciao Portal!"),n.createElement("h1",{className:"bio"},"Hi folks, I am Leonardo Benicio and I started developing software while I was a 10 year old boy, isn't that cool? Connect your Ethereum wallet and send me a ciao!"),n.createElement("textarea",{style:{height:"6em",padding:"1em",marginTop:"2em"},id:"message",name:"message",value:u,onChange:e=>{d(e.target.value)}}),n.createElement("button",{className:"waveButton",onClick:async()=>{try{const{ethereum:e}=window;if(e){const n=new t(e).getSigner(),s=new a(r,l,n);let o=await s.getTotalWaves();console.log("Recuperado o nÃºmero de tchauzinhos...",o.toNumber());const i=await s.wave(u,{gasLimit:3e5});console.log("Minerando...",i.hash),await i.wait(),console.log("Minerado -- ",i.hash),o=await s.getTotalWaves(),console.log("Total de tchauzinhos recuperado...",o.toNumber())}else console.log("Objeto Ethereum nÃ£o encontrado!")}catch(e){console.log(e)}}},"Send Ciao ðŸŒŸ"),!s&&n.createElement("button",{className:"waveButton",onClick:async()=>{try{const{ethereum:e}=window;if(!e)return void alert("MetaMask encontrada!");const t=await e.request({method:"eth_requestAccounts"});console.log("Conectado",t[0]),i(t[0])}catch(e){console.log(e)}}},"Connect wallet"),m.length?n.createElement("h3",{style:{marginTop:"2em"}},"Ciao log:"):"",m.map(((e,t)=>n.createElement("div",{key:t,style:{backgroundColor:"OldLace",marginTop:"10px",padding:"8px"}},n.createElement("div",null,"Address: ",n.createElement("a",{href:"https://sepolia.etherscan.io/tx/"+e.address},e.address)),n.createElement("div",null,"Date/time: ",e.timestamp.toString()),n.createElement("div",null,"Message: ",e.message))))))}s.render(n.createElement(n.StrictMode,null,n.createElement(i,null)),document.getElementById("root"));
